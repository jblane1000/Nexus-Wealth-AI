{% extends "base.html" %}

{% block title %}Register - Nexus Wealth AI{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-7">
        <div class="card shadow">
            <div class="card-header bg-primary text-white text-center py-3">
                <h4 class="mb-0">
                    <i class="fas fa-user-plus me-2"></i>Create Your Account
                </h4>
            </div>
            <div class="card-body p-4">
                <form method="POST" action="{{ url_for('register') }}">
                    {{ form.hidden_tag() }}
                    
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <h5>Personal Information</h5>
                            <hr>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-12">
                            {{ form.full_name.label(class="form-label") }}
                            {% if form.full_name.errors %}
                                {{ form.full_name(class="form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.full_name.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.full_name(class="form-control") }}
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.email.label(class="form-label") }}
                            {% if form.email.errors %}
                                {{ form.email(class="form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.email.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.email(class="form-control") }}
                            {% endif %}
                        </div>
                        <div class="col-md-6">
                            {{ form.date_of_birth.label(class="form-label") }}
                            {% if form.date_of_birth.errors %}
                                {{ form.date_of_birth(class="form-control is-invalid", type="date") }}
                                <div class="invalid-feedback">
                                    {% for error in form.date_of_birth.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.date_of_birth(class="form-control", type="date") }}
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.password.label(class="form-label") }}
                            {% if form.password.errors %}
                                {{ form.password(class="form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.password.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.password(class="form-control") }}
                            {% endif %}
                        </div>
                        <div class="col-md-6">
                            {{ form.confirm_password.label(class="form-label") }}
                            {% if form.confirm_password.errors %}
                                {{ form.confirm_password(class="form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.confirm_password.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.confirm_password(class="form-control") }}
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <h5>Address Information</h5>
                            <hr>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-12">
                            {{ form.address.label(class="form-label") }}
                            {% if form.address.errors %}
                                {{ form.address(class="form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.address.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.address(class="form-control") }}
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.city.label(class="form-label") }}
                            {% if form.city.errors %}
                                {{ form.city(class="form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.city.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.city(class="form-control") }}
                            {% endif %}
                        </div>
                        <div class="col-md-6">
                            {{ form.province.label(class="form-label") }}
                            {% if form.province.errors %}
                                {{ form.province(class="form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.province.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.province(class="form-control") }}
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.postal_code.label(class="form-label") }}
                            {% if form.postal_code.errors %}
                                {{ form.postal_code(class="form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.postal_code.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.postal_code(class="form-control") }}
                            {% endif %}
                        </div>
                        <div class="col-md-6">
                            {{ form.country.label(class="form-label") }}
                            {% if form.country.errors %}
                                {{ form.country(class="form-control is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.country.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.country(class="form-control", value="Canada") }}
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="form-check">
                                {% if form.agree_terms.errors %}
                                    {{ form.agree_terms(class="form-check-input is-invalid") }}
                                    <div class="invalid-feedback">
                                        {% for error in form.agree_terms.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.agree_terms(class="form-check-input") }}
                                {% endif %}
                                {{ form.agree_terms.label(class="form-check-label") }}
                                <small class="d-block text-muted mt-1">
                                    By registering, you confirm that you've read and agree to our Terms of Service and Privacy Policy.
                                    Your information will be handled according to PIPEDA (Personal Information Protection and Electronic Documents Act) guidelines.
                                </small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-grid mt-4">
                        {{ form.submit(class="btn btn-primary btn-lg") }}
                    </div>
                </form>
            </div>
            <div class="card-footer bg-light text-center py-3">
                <p class="mb-0">Already have an account? <a href="{{ url_for('login') }}">Login here</a></p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
